<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>

      <!-- style sheets -->
      <!-- font -->
      <link href='https://fonts.googleapis.com/css?family=Content' rel='stylesheet'>
      <!-- custom style sheet -->
      <link href='birthday.css' rel='stylesheet'>

      <!-- Jquery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>     
   </head>
   <body>
      <audio src="birthdaySong.mp3" loop id="song"></audio> 
      
      <div class="text_size2">
         Made with <span style="color: red">&hearts;</span> by John Kiran
      </div>

      <div class="container">
         <div class="center customCard text_size card_bg_color">
            Happy&nbsp;Birthday

            <div class="nameDiv">
               <div style="flex:2; width:10%;" class="imageRotateHorizontal">ðŸŽ‚</div>
               <div style="flex:2; flex-wrap: wrap"><span id="name"></span></div>
               <div style="flex:2;" class="imageRotateHorizontal">ðŸŽ‚</div>
            </div>

            <button style="background-color: rgb(206, 218, 45); margin: 5px;" onclick="play()">Click me for <span style="font-weight: bold">&#127925;</span></button>
         </div>
       </div>

      <div class="chocoAnimate"></div>

      <script src="./confetti.js"></script>
      <script src="./chocoAnimate.js"></script>

      <script>
         let targetNumber = Math.floor(Math.random() * 3) + 1;

         switch(targetNumber) {
            case 1:
               $(".chocoAnimate").attr('id', 'chocoAnimate');        
               startChocAnimation();
               break;
            case 2:
               $(".chocoAnimate").attr('id', 'chocoAnimate');        
               startChocAnimation();
               confetti.start();
               break;
            default:
               confetti.start();
         }

         var url_string = window.location.href;
         var url = new URL(url_string);
         var name = url.searchParams.get("name");
         
         if(name != "null" && name != undefined && name != "" && name != null) {
            document.getElementById("name").innerHTML = name;
         }
         function play() {
            document.getElementById("song").play(); 
         }
         
      </script>
   </body>
</html>